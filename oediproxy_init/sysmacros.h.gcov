        -:    0:Source:/usr/include/sys/sysmacros.h
        -:    0:Graph:oscar2.gcno
        -:    0:Data:oscar2.gcda
        -:    0:Runs:1
        -:    0:Programs:2
        -:    1:/* Definitions of macros to access `dev_t' values.
        -:    2:   Copyright (C) 1996, 1997, 1999, 2003, 2004, 2007
        -:    3:   Free Software Foundation, Inc.
        -:    4:   This file is part of the GNU C Library.
        -:    5:
        -:    6:   The GNU C Library is free software; you can redistribute it and/or
        -:    7:   modify it under the terms of the GNU Lesser General Public
        -:    8:   License as published by the Free Software Foundation; either
        -:    9:   version 2.1 of the License, or (at your option) any later version.
        -:   10:
        -:   11:   The GNU C Library is distributed in the hope that it will be useful,
        -:   12:   but WITHOUT ANY WARRANTY; without even the implied warranty of
        -:   13:   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
        -:   14:   Lesser General Public License for more details.
        -:   15:
        -:   16:   You should have received a copy of the GNU Lesser General Public
        -:   17:   License along with the GNU C Library; if not, write to the Free
        -:   18:   Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA
        -:   19:   02111-1307 USA.  */
        -:   20:
        -:   21:#ifndef _SYS_SYSMACROS_H
        -:   22:#define _SYS_SYSMACROS_H	1
        -:   23:
        -:   24:#include <features.h>
        -:   25:
        -:   26:/* If the compiler does not know long long it is out of luck.  We are
        -:   27:   not going to hack weird hacks to support the dev_t representation
        -:   28:   they need.  */
        -:   29:#ifdef __GLIBC_HAVE_LONG_LONG
        -:   30:__extension__
        -:   31:__extern_inline unsigned int gnu_dev_major (unsigned long long int __dev)
        -:   32:     __THROW;
        -:   33:__extension__
        -:   34:__extern_inline unsigned int gnu_dev_minor (unsigned long long int __dev)
        -:   35:     __THROW;
        -:   36:__extension__
        -:   37:__extern_inline unsigned long long int gnu_dev_makedev (unsigned int __major,
        -:   38:							unsigned int __minor)
        -:   39:     __THROW;
        -:   40:
        -:   41:# if defined __GNUC__ && __GNUC__ >= 2
        -:   42:__extension__ __extern_inline unsigned int
        -:   43:__NTH (gnu_dev_major (unsigned long long int __dev))
    #####:   44:{
    #####:   45:  return ((__dev >> 8) & 0xfff) | ((unsigned int) (__dev >> 32) & ~0xfff);
        -:   46:}
        -:   47:
        -:   48:__extension__ __extern_inline unsigned int
        -:   49:__NTH (gnu_dev_minor (unsigned long long int __dev))
    #####:   50:{
    #####:   51:  return (__dev & 0xff) | ((unsigned int) (__dev >> 12) & ~0xff);
        -:   52:}
        -:   53:
        -:   54:__extension__ __extern_inline unsigned long long int
        -:   55:__NTH (gnu_dev_makedev (unsigned int __major, unsigned int __minor))
    #####:   56:{
    #####:   57:  return ((__minor & 0xff) | ((__major & 0xfff) << 8)
        -:   58:	  | (((unsigned long long int) (__minor & ~0xff)) << 12)
        -:   59:	  | (((unsigned long long int) (__major & ~0xfff)) << 32));
        -:   60:}
        -:   61:# endif
        -:   62:
        -:   63:
        -:   64:/* Access the functions with their traditional names.  */
        -:   65:# define major(dev) gnu_dev_major (dev)
        -:   66:# define minor(dev) gnu_dev_minor (dev)
        -:   67:# define makedev(maj, min) gnu_dev_makedev (maj, min)
        -:   68:#endif
        -:   69:
        -:   70:#endif /* sys/sysmacros.h */
